"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook=globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[1467],{8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var i=n(6540);const r={},t=i.createContext(r);function o(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:s},e.children)}},8581:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var i=n(4848),r=n(8453);const t={title:"Week 3 - ROS Topics and Messages",sidebar_position:3,week:3,module:"module-1-ros-foundations",learningObjectives:["Understand the publish/subscribe communication pattern in ROS 2","Create and use custom message types","Implement topic-based communication between nodes","Configure Quality of Service (QoS) settings for topics","Understand message serialization and data types"],prerequisites:[{"Week 1 content":"Introduction to ROS 2"},{"Week 2 content":"ROS Nodes and Services"},"Basic Python or C++ programming knowledge"],description:"Deep dive into ROS 2 topics and messages, including custom message types and QoS settings"},o="Week 3: ROS Topics and Messages",a={id:"modules/module-1-ros-foundations/week-3-ros-topics",title:"Week 3 - ROS Topics and Messages",description:"Deep dive into ROS 2 topics and messages, including custom message types and QoS settings",source:"@site/docs/modules/module-1-ros-foundations/week-3-ros-topics.md",sourceDirName:"modules/module-1-ros-foundations",slug:"/modules/module-1-ros-foundations/week-3-ros-topics",permalink:"/Humanoid-AI-Book/docs/modules/module-1-ros-foundations/week-3-ros-topics",draft:!1,unlisted:!1,editUrl:"https://github.com/abdullatifjaffrani/Humanoid-AI-Book/tree/main/docs/modules/module-1-ros-foundations/week-3-ros-topics.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Week 3 - ROS Topics and Messages",sidebar_position:3,week:3,module:"module-1-ros-foundations",learningObjectives:["Understand the publish/subscribe communication pattern in ROS 2","Create and use custom message types","Implement topic-based communication between nodes","Configure Quality of Service (QoS) settings for topics","Understand message serialization and data types"],prerequisites:[{"Week 1 content":"Introduction to ROS 2"},{"Week 2 content":"ROS Nodes and Services"},"Basic Python or C++ programming knowledge"],description:"Deep dive into ROS 2 topics and messages, including custom message types and QoS settings"},sidebar:"tutorialSidebar",previous:{title:"Week 2 - ROS Nodes and Services",permalink:"/Humanoid-AI-Book/docs/modules/module-1-ros-foundations/week-2-ros-nodes"},next:{title:"Lab 1 - ROS Basics Exercise",permalink:"/Humanoid-AI-Book/docs/modules/module-1-ros-foundations/lab-1-ros-basics"}},l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Overview",id:"overview",level:2},{value:"Publish/Subscribe Pattern",id:"publishsubscribe-pattern",level:2},{value:"Concept",id:"concept",level:3},{value:"Basic Example in Python",id:"basic-example-in-python",level:3},{value:"Message Types",id:"message-types",level:2},{value:"Standard Messages",id:"standard-messages",level:3},{value:"Message Definition Syntax",id:"message-definition-syntax",level:3},{value:"Custom Message Example",id:"custom-message-example",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"QoS Settings",id:"qos-settings",level:3},{value:"Python QoS Example",id:"python-qos-example",level:3},{value:"C++ QoS Example",id:"c-qos-example",level:3},{value:"Creating Custom Messages",id:"creating-custom-messages",level:2},{value:"Package Structure",id:"package-structure",level:3},{value:"Example Package Structure",id:"example-package-structure",level:3},{value:"CMakeLists.txt Configuration",id:"cmakeliststxt-configuration",level:3},{value:"package.xml Configuration",id:"packagexml-configuration",level:3},{value:"Message Serialization",id:"message-serialization",level:2},{value:"Serialization Process",id:"serialization-process",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Advanced Topics",id:"advanced-topics",level:2},{value:"Topic Remapping",id:"topic-remapping",level:3},{value:"Topic Monitoring",id:"topic-monitoring",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Topic Design",id:"topic-design",level:3},{value:"Message Design",id:"message-design",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Practice Exercises",id:"practice-exercises",level:2},{value:"Exercise 1: Custom Message Creation",id:"exercise-1-custom-message-creation",level:3},{value:"Exercise 2: QoS Configuration and Testing",id:"exercise-2-qos-configuration-and-testing",level:3},{value:"Exercise 3: Topic Remapping and Monitoring",id:"exercise-3-topic-remapping-and-monitoring",level:3},{value:"Exercise 4: Advanced Topic Communication",id:"exercise-4-advanced-topic-communication",level:3},{value:"Discussion Questions",id:"discussion-questions",level:3},{value:"Challenge Exercise",id:"challenge-exercise",level:3},{value:"References",id:"references",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"week-3-ros-topics-and-messages",children:"Week 3: ROS Topics and Messages"}),"\n",(0,i.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Understand the publish/subscribe communication pattern in ROS 2"}),"\n",(0,i.jsx)(s.li,{children:"Create and use custom message types"}),"\n",(0,i.jsx)(s.li,{children:"Implement topic-based communication between nodes"}),"\n",(0,i.jsx)(s.li,{children:"Configure Quality of Service (QoS) settings for topics"}),"\n",(0,i.jsx)(s.li,{children:"Understand message serialization and data types"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(s.p,{children:"Topics in ROS 2 implement a publish/subscribe communication pattern where nodes can publish messages to a topic and subscribe to messages from a topic. This asynchronous communication pattern is fundamental to ROS and enables loose coupling between nodes. Messages are the data structures that are passed between nodes through topics."}),"\n",(0,i.jsx)(s.h2,{id:"publishsubscribe-pattern",children:"Publish/Subscribe Pattern"}),"\n",(0,i.jsx)(s.h3,{id:"concept",children:"Concept"}),"\n",(0,i.jsx)(s.p,{children:"The publish/subscribe pattern in ROS 2 works as follows:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Publisher"}),": A node that sends messages to a topic"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Subscriber"}),": A node that receives messages from a topic"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Topic"}),": A named channel through which messages are sent"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"This pattern enables asynchronous communication where publishers and subscribers don't need to know about each other directly."}),"\n",(0,i.jsx)(s.h3,{id:"basic-example-in-python",children:"Basic Example in Python"}),"\n",(0,i.jsx)(s.p,{children:"Publisher:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:"Subscriber:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    rclpy.spin(minimal_subscriber)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(s.h2,{id:"message-types",children:"Message Types"}),"\n",(0,i.jsx)(s.h3,{id:"standard-messages",children:"Standard Messages"}),"\n",(0,i.jsx)(s.p,{children:"ROS 2 comes with a variety of standard message types in packages like:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"std_msgs"}),": Basic data types (String, Int32, Float64, etc.)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"geometry_msgs"}),": Geometric primitives (Point, Pose, Twist, etc.)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"sensor_msgs"}),": Sensor data (LaserScan, Image, JointState, etc.)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"nav_msgs"}),": Navigation-specific messages (Odometry, Path, OccupancyGrid, etc.)"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"message-definition-syntax",children:"Message Definition Syntax"}),"\n",(0,i.jsxs)(s.p,{children:["Messages are defined using ",(0,i.jsx)(s.code,{children:".msg"})," files with the following syntax:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"# Comment\nstring name\nint32 age\nfloat64 height\nbool active\n---\n# Additional comments\n"})}),"\n",(0,i.jsx)(s.h3,{id:"custom-message-example",children:"Custom Message Example"}),"\n",(0,i.jsxs)(s.p,{children:["Create a file ",(0,i.jsx)(s.code,{children:"CustomMessage.msg"}),":"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"# Custom robot status message\nstring robot_name\nint32 battery_level\nbool is_operational\ngeometry_msgs/Point current_position\n"})}),"\n",(0,i.jsx)(s.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,i.jsx)(s.h3,{id:"qos-settings",children:"QoS Settings"}),"\n",(0,i.jsx)(s.p,{children:"QoS settings allow you to configure the delivery guarantees for messages. Key settings include:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Reliability"}),": Best effort vs reliable delivery"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Durability"}),": Volatile vs transient local"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"History"}),": Keep all vs keep last N messages"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Deadline"}),": Maximum time between messages"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Liveliness"}),": How to detect if a publisher is alive"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"python-qos-example",children:"Python QoS Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom rclpy.qos import QoSProfile, ReliabilityPolicy, HistoryPolicy\nfrom std_msgs.msg import String\n\nclass QoSPublisher(Node):\n\n    def __init__(self):\n        super().__init__('qos_publisher')\n\n        # Create a QoS profile\n        qos_profile = QoSProfile(\n            depth=10,\n            reliability=ReliabilityPolicy.RELIABLE,\n            history=HistoryPolicy.KEEP_LAST,\n        )\n\n        self.publisher_ = self.create_publisher(String, 'qos_topic', qos_profile)\n        timer_period = 1.0\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'QoS Message: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n"})}),"\n",(0,i.jsx)(s.h3,{id:"c-qos-example",children:"C++ QoS Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-cpp",children:'#include "rclcpp/rclcpp.hpp"\n#include "std_msgs/msg/string.hpp"\n#include "rclcpp/qos.hpp"\n\nclass QoSPublisher : public rclcpp::Node\n{\npublic:\n  QoSPublisher()\n  : Node("qos_publisher"), count_(0)\n  {\n    rclcpp::QoS qos_profile(10);\n    qos_profile.reliability(RMW_QOS_POLICY_RELIABILITY_RELIABLE);\n    qos_profile.history(RMW_QOS_POLICY_HISTORY_KEEP_LAST);\n\n    publisher_ = this->create_publisher<std_msgs::msg::String>("qos_topic", qos_profile);\n    timer_ = this->create_wall_timer(\n      1s, std::bind(&QoSPublisher::timer_callback, this));\n  }\n\nprivate:\n  void timer_callback()\n  {\n    auto message = std_msgs::msg::String();\n    message.data = "QoS Message: " + std::to_string(count_++);\n    RCLCPP_INFO(this->get_logger(), "Publishing: \'%s\'", message.data.c_str());\n    publisher_->publish(message);\n  }\n  rclcpp::TimerBase::SharedPtr timer_;\n  rclcpp::Publisher<std_msgs::msg::String>::SharedPtr publisher_;\n  size_t count_;\n};\n'})}),"\n",(0,i.jsx)(s.h2,{id:"creating-custom-messages",children:"Creating Custom Messages"}),"\n",(0,i.jsx)(s.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,i.jsx)(s.p,{children:"To create custom messages, you need to:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Create a package for your messages"}),"\n",(0,i.jsxs)(s.li,{children:["Add the message definitions to ",(0,i.jsx)(s.code,{children:"msg/"})," directory"]}),"\n",(0,i.jsxs)(s.li,{children:["Update ",(0,i.jsx)(s.code,{children:"CMakeLists.txt"})," and ",(0,i.jsx)(s.code,{children:"package.xml"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"example-package-structure",children:"Example Package Structure"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"my_robot_msgs/\n\u251c\u2500\u2500 CMakeLists.txt\n\u251c\u2500\u2500 package.xml\n\u2514\u2500\u2500 msg/\n    \u251c\u2500\u2500 RobotStatus.msg\n    \u2514\u2500\u2500 SensorArray.msg\n"})}),"\n",(0,i.jsx)(s.h3,{id:"cmakeliststxt-configuration",children:"CMakeLists.txt Configuration"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-cmake",children:'find_package(rosidl_default_generators REQUIRED)\n\nrosidl_generate_interfaces(${PROJECT_NAME}\n  "msg/RobotStatus.msg"\n  "msg/SensorArray.msg"\n  DEPENDENCIES builtin_interfaces std_msgs geometry_msgs\n)\n'})}),"\n",(0,i.jsx)(s.h3,{id:"packagexml-configuration",children:"package.xml Configuration"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-xml",children:"<buildtool_depend>ament_cmake</buildtool_depend>\n<build_depend>rosidl_default_generators</build_depend>\n<exec_depend>rosidl_default_runtime</exec_depend>\n<member_of_group>rosidl_interface_packages</member_of_group>\n"})}),"\n",(0,i.jsx)(s.h2,{id:"message-serialization",children:"Message Serialization"}),"\n",(0,i.jsx)(s.h3,{id:"serialization-process",children:"Serialization Process"}),"\n",(0,i.jsx)(s.p,{children:"When messages are sent over topics, they are serialized into a binary format. The serialization process includes:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Type Information"}),": Message type identification"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Data Encoding"}),": Converting data to binary format"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Transport"}),": Sending over the middleware (DDS)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Deserialization"}),": Converting back to usable format"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Message Size"}),": Large messages can impact performance"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Frequency"}),": High-frequency topics need efficient serialization"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Complexity"}),": Complex nested messages take more processing time"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"advanced-topics",children:"Advanced Topics"}),"\n",(0,i.jsx)(s.h3,{id:"topic-remapping",children:"Topic Remapping"}),"\n",(0,i.jsx)(s.p,{children:"Topics can be remapped at runtime:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Remap topic at launch\nros2 run package_name node_name --ros-args --remap old_topic:=new_topic\n\n# In code\nfrom rclpy.node import Node\n\nclass RemappedNode(Node):\n    def __init__(self):\n        super().__init__('remapped_node')\n        # This will subscribe to 'remapped_topic' instead of 'original_topic'\n        self.subscription = self.create_subscription(\n            String,\n            'original_topic',\n            self.callback,\n            10,\n            callback_group=None)\n"})}),"\n",(0,i.jsx)(s.h3,{id:"topic-monitoring",children:"Topic Monitoring"}),"\n",(0,i.jsx)(s.p,{children:"Monitor topic activity:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# List all topics\nros2 topic list\n\n# Echo messages from a topic\nros2 topic echo /topic_name std_msgs/msg/String\n\n# Show topic info\nros2 topic info /topic_name\n\n# Publish to a topic from command line\nros2 topic pub /topic_name std_msgs/msg/String \"data: 'Hello'\"\n"})}),"\n",(0,i.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(s.h3,{id:"topic-design",children:"Topic Design"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Naming Conventions"}),": Use consistent, descriptive names"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Message Frequency"}),": Balance between responsiveness and performance"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Message Size"}),": Keep messages as small as possible while maintaining necessary information"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Topic Organization"}),": Group related topics with common prefixes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"QoS Selection"}),": Choose appropriate QoS settings based on requirements"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"message-design",children:"Message Design"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Data Types"}),": Use appropriate data types for your needs"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Extensibility"}),": Design messages that can be extended without breaking compatibility"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Documentation"}),": Document message fields clearly"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Validation"}),": Consider field validation requirements"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Topics implement the publish/subscribe communication pattern"}),"\n",(0,i.jsx)(s.li,{children:"Messages are the data structures passed between nodes"}),"\n",(0,i.jsx)(s.li,{children:"Custom messages can be created to represent domain-specific data"}),"\n",(0,i.jsx)(s.li,{children:"QoS settings allow fine-tuning of communication guarantees"}),"\n",(0,i.jsx)(s.li,{children:"Proper message design is crucial for system performance"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"practice-exercises",children:"Practice Exercises"}),"\n",(0,i.jsx)(s.h3,{id:"exercise-1-custom-message-creation",children:"Exercise 1: Custom Message Creation"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Create a new package called ",(0,i.jsx)(s.code,{children:"my_custom_msgs"})," for your custom message definitions."]}),"\n",(0,i.jsxs)(s.li,{children:["Define a custom message called ",(0,i.jsx)(s.code,{children:"RobotSensorData.msg"})," that includes fields for temperature (float64), humidity (float64), and sensor_status (string)."]}),"\n",(0,i.jsxs)(s.li,{children:["Build the package with ",(0,i.jsx)(s.code,{children:"colcon build --packages-select my_custom_msgs"}),"."]}),"\n",(0,i.jsx)(s.li,{children:"Create a publisher node that publishes messages of your custom type with simulated sensor data."}),"\n",(0,i.jsx)(s.li,{children:"Create a subscriber node that receives and displays the custom message data."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"exercise-2-qos-configuration-and-testing",children:"Exercise 2: QoS Configuration and Testing"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Create two publisher nodes: one with reliable QoS settings and one with best-effort settings."}),"\n",(0,i.jsx)(s.li,{children:"Create corresponding subscriber nodes for each publisher."}),"\n",(0,i.jsx)(s.li,{children:"Test the behavior of each combination under network stress or when subscribers start after publishers."}),"\n",(0,i.jsx)(s.li,{children:"Document the differences in message delivery between the two QoS configurations."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"exercise-3-topic-remapping-and-monitoring",children:"Exercise 3: Topic Remapping and Monitoring"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Create a publisher node that publishes messages to a topic called ",(0,i.jsx)(s.code,{children:"sensor_data"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Launch the node with a remapped topic name using the command line argument ",(0,i.jsx)(s.code,{children:"--ros-args --remap sensor_data:=robot_sensor_data"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 topic echo"})," to verify that the messages are being published to the remapped topic."]}),"\n",(0,i.jsxs)(s.li,{children:["Practice using other topic monitoring commands like ",(0,i.jsx)(s.code,{children:"ros2 topic info"})," and ",(0,i.jsx)(s.code,{children:"ros2 topic hz"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"exercise-4-advanced-topic-communication",children:"Exercise 4: Advanced Topic Communication"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Implement a sensor fusion system with multiple publishers (simulating different sensors) publishing to separate topics."}),"\n",(0,i.jsx)(s.li,{children:"Create a subscriber node that subscribes to all sensor topics and publishes a fused result to another topic."}),"\n",(0,i.jsx)(s.li,{children:"Use appropriate QoS settings for each type of sensor data based on its criticality."}),"\n",(0,i.jsx)(s.li,{children:"Add logging to track the timing and sequence of messages from different sensors."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"discussion-questions",children:"Discussion Questions"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"When would you choose best-effort QoS over reliable QoS for a topic? Provide specific use cases."}),"\n",(0,i.jsx)(s.li,{children:"How do QoS settings affect the real-time performance of a ROS 2 system?"}),"\n",(0,i.jsx)(s.li,{children:"What are the trade-offs between message size and frequency in topic communication?"}),"\n",(0,i.jsx)(s.li,{children:"How can topic remapping be used effectively in different deployment scenarios?"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"challenge-exercise",children:"Challenge Exercise"}),"\n",(0,i.jsx)(s.p,{children:"Design and implement a complete sensor network simulation:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Create 3-4 different sensor message types (e.g., temperature, proximity, camera, IMU)"}),"\n",(0,i.jsx)(s.li,{children:"Implement publisher nodes that simulate realistic sensor data"}),"\n",(0,i.jsx)(s.li,{children:"Create a central monitoring node that subscribes to all sensor topics"}),"\n",(0,i.jsx)(s.li,{children:"Implement a data logging node that records all sensor data with timestamps"}),"\n",(0,i.jsx)(s.li,{children:"Use appropriate QoS settings for each sensor type based on its criticality"}),"\n",(0,i.jsx)(s.li,{children:"Add error handling for cases where sensor publishers are not available"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Ensure your system can handle dynamic addition/removal of sensor nodes and maintain reliable communication for critical sensors while optimizing performance for non-critical ones."}),"\n",(0,i.jsx)(s.h2,{id:"references",children:"References"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/Humanoid-AI-Book/docs/references/ros-bibliography",children:"ROS Bibliography"})})]})}function m(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);