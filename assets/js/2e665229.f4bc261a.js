"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook=globalThis.webpackChunkphysical_ai_humanoid_robotics_textbook||[]).push([[7138],{8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var a=t(6540);const s={},o=a.createContext(s);function i(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(o.Provider,{value:n},e.children)}},8659:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var a=t(4848),s=t(8453);const o={title:"Basic ROS 2 Package Template",sidebar_position:1},i="Basic ROS 2 Package Template",r={id:"templates/basic_ros2_package_template",title:"Basic ROS 2 Package Template",description:"Overview",source:"@site/docs/templates/basic_ros2_package_template.md",sourceDirName:"templates",slug:"/templates/basic_ros2_package_template",permalink:"/Humanoid-AI-Book/docs/templates/basic_ros2_package_template",draft:!1,unlisted:!1,editUrl:"https://github.com/abdullatifjaffrani/Humanoid-AI-Book/tree/main/docs/templates/basic_ros2_package_template.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Basic ROS 2 Package Template",sidebar_position:1}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Package Structure",id:"package-structure",level:2},{value:"Template Files",id:"template-files",level:2},{value:"package.xml",id:"packagexml",level:3},{value:"CMakeLists.txt",id:"cmakeliststxt",level:3},{value:"setup.py",id:"setuppy",level:3},{value:"Example Python Node",id:"example-python-node",level:3},{value:"Example Launch File",id:"example-launch-file",level:3},{value:"Usage Instructions",id:"usage-instructions",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Common Customizations",id:"common-customizations",level:2},{value:"For Different Robot Types",id:"for-different-robot-types",level:3},{value:"For Different Applications",id:"for-different-applications",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"basic-ros-2-package-template",children:"Basic ROS 2 Package Template"}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"This template provides a starting point for creating new ROS 2 packages. It includes the basic structure, configuration files, and example nodes that follow ROS 2 best practices."}),"\n",(0,a.jsx)(n.h2,{id:"package-structure",children:"Package Structure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"my_robot_package/\n\u251c\u2500\u2500 CMakeLists.txt              # Build configuration for C++ packages\n\u251c\u2500\u2500 package.xml                 # Package metadata and dependencies\n\u251c\u2500\u2500 setup.py                    # Build configuration for Python packages\n\u251c\u2500\u2500 setup.cfg                   # Installation configuration\n\u251c\u2500\u2500 my_robot_package/           # Python package directory\n\u2502   \u251c\u2500\u2500 __init__.py            # Python package initialization\n\u2502   \u251c\u2500\u2500 my_robot_node.py       # Example Python node\n\u2502   \u2514\u2500\u2500 my_robot_component.py  # Example component\n\u251c\u2500\u2500 src/                       # C++ source files\n\u2502   \u2514\u2500\u2500 my_robot_node.cpp      # Example C++ node\n\u251c\u2500\u2500 include/my_robot_package/  # C++ header files\n\u2502   \u2514\u2500\u2500 my_robot_node.hpp      # Example C++ header\n\u251c\u2500\u2500 launch/                    # Launch files\n\u2502   \u2514\u2500\u2500 my_robot_launch.py     # Example launch file\n\u251c\u2500\u2500 config/                    # Configuration files\n\u2502   \u2514\u2500\u2500 my_robot_params.yaml   # Example parameter file\n\u251c\u2500\u2500 worlds/                    # Simulation world files\n\u2502   \u2514\u2500\u2500 my_robot_world.sdf     # Example world file\n\u251c\u2500\u2500 meshes/                    # 3D model files\n\u2502   \u2514\u2500\u2500 components/            # Robot component meshes\n\u251c\u2500\u2500 urdf/                      # Robot description files\n\u2502   \u2514\u2500\u2500 my_robot.urdf.xacro    # Example robot description\n\u2514\u2500\u2500 test/                      # Test files\n    \u251c\u2500\u2500 test_my_robot.py       # Example Python test\n    \u2514\u2500\u2500 test_my_robot.cpp      # Example C++ test\n"})}),"\n",(0,a.jsx)(n.h2,{id:"template-files",children:"Template Files"}),"\n",(0,a.jsx)(n.h3,{id:"packagexml",children:"package.xml"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>my_robot_package</name>\n  <version>0.0.0</version>\n  <description>My Robot Package Description</description>\n  <maintainer email="maintainer@todo.todo">Maintainer Name</maintainer>\n  <license>TODO License Declaration</license>\n\n  <buildtool_depend>ament_cmake</buildtool_depend>\n  <buildtool_depend>ament_python</buildtool_depend>\n\n  <depend>rclpy</depend>\n  <depend>rclcpp</depend>\n  <depend>std_msgs</depend>\n  <depend>geometry_msgs</depend>\n  <depend>sensor_msgs</depend>\n\n  <test_depend>ament_lint_auto</test_depend>\n  <test_depend>ament_lint_common</test_depend>\n\n  <export>\n    <build_type>ament_cmake</build_type>\n  </export>\n</package>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"cmakeliststxt",children:"CMakeLists.txt"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.8)\nproject(my_robot_package)\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\n  add_compile_options(-Wall -Wextra -Wpedantic)\nendif()\n\n# Find dependencies\nfind_package(ament_cmake REQUIRED)\nfind_package(rclcpp REQUIRED)\nfind_package(rclpy REQUIRED)\nfind_package(std_msgs REQUIRED)\nfind_package(geometry_msgs REQUIRED)\nfind_package(sensor_msgs REQUIRED)\n\n# Include directories\ninclude_directories(include)\n\n# Example C++ executable\nadd_executable(my_robot_node src/my_robot_node.cpp)\nament_target_dependencies(my_robot_node\n  rclcpp\n  std_msgs\n  geometry_msgs\n  sensor_msgs\n)\n\n# Install targets\ninstall(TARGETS\n  my_robot_node\n  DESTINATION lib/${PROJECT_NAME}\n)\n\n# Install Python modules\nament_python_install_package(${PROJECT_NAME})\n\n# Install launch files\ninstall(DIRECTORY\n  launch\n  config\n  worlds\n  urdf\n  meshes\n  DESTINATION share/${PROJECT_NAME}/\n)\n\nif(BUILD_TESTING)\n  find_package(ament_lint_auto REQUIRED)\n  set(ament_cmake_copyright_FOUND TRUE)\n  set(ament_cmake_flake8_FOUND TRUE)\n  set(ament_cmake_pep257_FOUND TRUE)\n  ament_lint_auto_find_test_dependencies()\nendif()\n\nament_package()\n'})}),"\n",(0,a.jsx)(n.h3,{id:"setuppy",children:"setup.py"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from setuptools import setup\nfrom glob import glob\nimport os\n\npackage_name = 'my_robot_package'\n\nsetup(\n    name=package_name,\n    version='0.0.0',\n    packages=[package_name],\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/' + package_name]),\n        ('share/' + package_name, ['package.xml']),\n        (os.path.join('share', package_name, 'launch'), glob('launch/*.py')),\n        (os.path.join('share', package_name, 'config'), glob('config/*.yaml')),\n        (os.path.join('share', package_name, 'worlds'), glob('worlds/*.sdf')),\n        (os.path.join('share', package_name, 'urdf'), glob('urdf/*.urdf*')),\n        (os.path.join('share', package_name, 'meshes'), glob('meshes/**/*', recursive=True)),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='TODO',\n    maintainer_email='TODO',\n    description='TODO: Package description',\n    license='TODO: License declaration',\n    tests_require=['pytest'],\n    entry_points={\n        'console_scripts': [\n            'my_robot_node = my_robot_package.my_robot_node:main',\n        ],\n    },\n)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"example-python-node",children:"Example Python Node"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\nfrom geometry_msgs.msg import Twist\n\n\nclass MyRobotNode(Node):\n    def __init__(self):\n        super().__init__('my_robot_node')\n\n        # Create publishers\n        self.publisher_ = self.create_publisher(String, 'robot_status', 10)\n        self.cmd_vel_publisher = self.create_publisher(Twist, 'cmd_vel', 10)\n\n        # Create subscribers\n        self.subscription = self.create_subscription(\n            String,\n            'robot_commands',\n            self.command_callback,\n            10\n        )\n\n        # Create timer\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n\n        # Robot state\n        self.i = 0\n\n        self.get_logger().info('My Robot Node initialized')\n\n    def command_callback(self, msg):\n        self.get_logger().info(f'Received command: {msg.data}')\n        # Process the command here\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Robot status: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: {msg.data}')\n        self.i += 1\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    my_robot_node = MyRobotNode()\n\n    try:\n        rclpy.spin(my_robot_node)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        my_robot_node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,a.jsx)(n.h3,{id:"example-launch-file",children:"Example Launch File"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import os\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\n\n\ndef generate_launch_description():\n    # Launch arguments\n    use_sim_time = LaunchConfiguration('use_sim_time', default='false')\n\n    # Declare launch arguments\n    declare_use_sim_time = DeclareLaunchArgument(\n        'use_sim_time',\n        default_value='false',\n        description='Use simulation (Gazebo) clock if true'\n    )\n\n    # Nodes\n    my_robot_node = Node(\n        package='my_robot_package',\n        executable='my_robot_node',\n        name='my_robot_node',\n        parameters=[\n            {'use_sim_time': use_sim_time}\n        ],\n        output='screen'\n    )\n\n    # Create launch description\n    ld = LaunchDescription()\n\n    # Add launch arguments\n    ld.add_action(declare_use_sim_time)\n\n    # Add nodes\n    ld.add_action(my_robot_node)\n\n    return ld\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage-instructions",children:"Usage Instructions"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Copy the template"}),": Copy this entire structure to your new package directory"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Replace placeholders"}),": Replace ",(0,a.jsx)(n.code,{children:"my_robot_package"})," with your actual package name"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Update metadata"}),": Modify package.xml with your specific information"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Customize code"}),": Modify the example nodes to implement your functionality"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Add dependencies"}),": Update package.xml and CMakeLists.txt with your dependencies"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Build and test"}),": Use ",(0,a.jsx)(n.code,{children:"colcon build"})," to build your package"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Follow ROS 2 naming conventions (lowercase with underscores)"}),"\n",(0,a.jsx)(n.li,{children:"Use descriptive names for nodes, topics, and parameters"}),"\n",(0,a.jsx)(n.li,{children:"Include proper error handling and logging"}),"\n",(0,a.jsx)(n.li,{children:"Add unit tests for your components"}),"\n",(0,a.jsx)(n.li,{children:"Document your code and APIs"}),"\n",(0,a.jsx)(n.li,{children:"Use parameters for configurable values"}),"\n",(0,a.jsx)(n.li,{children:"Follow the single responsibility principle for nodes"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"common-customizations",children:"Common Customizations"}),"\n",(0,a.jsx)(n.h3,{id:"for-different-robot-types",children:"For Different Robot Types"}),"\n",(0,a.jsx)(n.p,{children:"Modify the template based on your robot type:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Mobile robots"}),": Add navigation and mapping components"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Manipulators"}),": Add arm control and kinematics"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sensors"}),": Add sensor processing pipelines"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Simulation"}),": Add Gazebo integration"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"for-different-applications",children:"For Different Applications"}),"\n",(0,a.jsx)(n.p,{children:"Adapt the template for specific use cases:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SLAM"}),": Add mapping and localization nodes"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Perception"}),": Add computer vision processing"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Control"}),": Add motion control algorithms"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Planning"}),": Add path planning components"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);